<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>test title</title>
<script>
	var E;
	function prepare() {
		/* var S = document.getElementById("sv")
		var SD = S.getSVGDocument();
		E = SD.getElementById('E');
		E.setAttribute("fill", "blue"); */
	}
	function validateForm() {
		var color = document.forms["myForm"]["color"].value;
		var country = document.forms["myForm"]["country"].value;
		var map = document.forms["myForm"]["map"].value;
		
		if (map == "test"){
			//var civ = {ters: ["anchorage","vancouver","yellowknife","new york"], color: "red"};
			var civ = {ters: ["anchorage","vancouver","yellowknife","new york"], color: "red"};
			var array = civ.ters;
			color = civ.color;
		}
		if (color == null || color == "") {
			alert("Color must be filled out");
			return false;
			}
		var S = document.getElementById("sv");
		var SD = S.getSVGDocument();
		if (SD == null){
			alert("Invalid color name. Reference w3schools.com/html/html_colornames.asp");
			return false;
			}
		if (map == null || map == ""){
			country = country.toLowerCase();
			country = country.replace(" ","_");
			if (country == null || country == "") {
				alert("Territory must be filled out");
				return false;
			}
			E = SD.getElementById(country);
			if (E == null){
				alert("Invalid territory name. Most are cities.");
				return false;
			}
			E.setAttribute("fill", color);
			} 
		else {
			for (var elem = 0; elem < array.length; elem ++){
				country = array[elem];
				country = country.toLowerCase();
				country = country.replace(" ","_");
				E = SD.getElementById(country);
				if (E == null){
				alert("Invalid territory name. Most are cities.");
					return false;
				}
				E.setAttribute("fill", color);
			}	
		}
	}
</script>
</head>
<body>
<embed id="sv" src="optimized_svg.svg" width=950 height=620>
	</embed>
	<form name="myForm"
		onsubmit="validateForm(); return false" method="post">
		Color: <input type="text" name="color"> 
		Territory: <input type="text" name="country"> 
		Map: <input type="text" name="map">
		<input type="submit" value="Submit">
	</form>
</body>
</html>


